BITS 32

section .data
ns: db "", 10, 0
negative: db "-%d", 0
positiv: db "%d", 0
fltOutput: db "%f", 0
DAT0: db "", 0
f: dd 0
flt0 : dd 4.4
flt1 : dd 1.0
flt2 : dd 2.6
flt3 : dd 1.3
flt4 : dd 3.141591

section .text
global _main
extern _printf
extern _scanf
_main:
finit

xor eax, eax
xor ebx, ebx
xor ecx, ecx
xor edx, edx

;4.4 + 1.0*2.6/1.3+3.141591-1.0

fld dword [flt0]
fld dword [flt1]
fld dword [flt2]
fmul

push eax
mov ebx, [flt3]
pop eax
mov edx, 0
mov ecx, ebx
div ecx

fadd

push eax
mov ebx, [flt4]
pop eax
add eax, ebx

push eax
mov ebx, [flt1]
pop eax
sub eax, ebx

fstp dword [f]

push dword DAT0
call _printf
add esp, 4

fld dword[f]
sub esp, 8
fstp qword[esp]
push fltOutput
call _printf
add esp, 12

push dword ns
call _printf
add esp, 4

ret 0
